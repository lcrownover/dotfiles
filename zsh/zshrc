if [ "$TERM_PROGRAM" = "vscode" ]; then
    tmux new-session -A -s vscode
fi

export ZSH=$HOME/.oh-my-zsh
ZSH_THEME="robbyrussell"

ulimit -n 1024

plugins=(
	git
	zsh-autosuggestions
	docker
	zsh-syntax-highlighting
)

ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=8'

source $ZSH/oh-my-zsh.sh
unsetopt AUTO_CD

if [[ -d $HOME/.rbenv ]]; then
    GEM_HOME="$HOME/.gem"
    export PATH="$GEM_HOME:$PATH"
    eval "$(rbenv init -)"
fi

if [[ -d $HOME/.pyenv ]]; then
    export PYENV_ROOT="$HOME/.pyenv"
    export PATH="$PYENV_ROOT/bin:$PATH"
    eval "$(pyenv init -)"
    eval "$(pyenv virtualenv-init -)"
    export LDFLAGS="-L/usr/local/opt/zlib/lib -L/usr/local/opt/bzip2/lib"
    export CPPFLAGS="-I/usr/local/opt/zlib/include -I/usr/local/opt/bzip2/include"
fi

compdef __start_kubectl k
source <(kubectl completion zsh)

setopt prompt_subst
