# uncomment this line to measure performance
#zmodload zsh/zprof
#setopt SOURCE_TRACE

export ZSH=$HOME/.oh-my-zsh
ZSH_THEME="robbyrussell"
export TERM=xterm-256color


ulimit -n 1024

plugins=(
	git
	zsh-syntax-highlighting
	zsh-autosuggestions
	docker
)


source $ZSH/oh-my-zsh.sh
unsetopt AUTO_CD

if [[ -d $HOME/.rbenv ]]; then
    GEM_HOME="$HOME/.gem"
    export PATH="$GEM_HOME:$PATH"
    eval "$(rbenv init -)"
fi

if [[ -d $HOME/.pyenv ]]; then
    export PYENV_ROOT="$HOME/.pyenv"
    export PATH="$PYENV_ROOT/shims:$PATH"
    eval "$(pyenv init -)"
    eval "$(pyenv virtualenv-init -)"
    export LDFLAGS="-L/usr/local/opt/zlib/lib -L/usr/local/opt/bzip2/lib"
    export CPPFLAGS="-I/usr/local/opt/zlib/include -I/usr/local/opt/bzip2/include"
fi

# custom prompt
setopt prompt_subst
if [[ "$(hostname)" = "is-lc-forge" ]]; then
    PROMPT_HOSTNAME='eitri'
else
    PROMPT_HOSTNAME="$(hostname)"
fi
PROMPT='%{$fg[red]%}[%{$fg[green]%}%n%{$fg[yellow]%}@%{$fg[blue]%}$PROMPT_HOSTNAME:%{$fg[magenta]%}%1~%{$fg[red]%}] $(git_prompt_info)% %{$reset_color%}'

# everything else will be loaded by zshenv (autoload) as this file is loaded in a non-interactive session

# uncomment this line to display measured performance
#zprof

#
# If there's anything below this comment,
# it probably needs to be sorted into a file or somehow organized.
#

