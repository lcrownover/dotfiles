#!/bin/bash

# archived stuff that i probably dont need anymore but want to keep around


# c stuff
function cbae() {
	if [ -z $1 ]; then
		echo "pass file.c as only argument"
	else
		n=$(echo $1 | awk -F"." '{print $1}')
		gcc $n.c -o $n && ./$n
		rm -f $n
	fi
}

# go stuff
alias goinit='mkdir -p bin pkg src/github.com/lcrownover'
alias gopath='export GOPATH="$(pwd)" && echo GOPATH=$(pwd); export PATH=$GOPATH/bin:$PATH'

function mssh() {
	if [[ $1 == "s" ]]; then
		vim /Users/lcrown/.servers.txt
	elif [[ $1 == "c" ]]; then
		vim /Users/lcrown/.command.txt
	elif [[ $1 == "block" ]]; then
		multissh --command @~/.command.txt --nodes @~/.servers.txt --block
	elif [[ $1 == "match" ]]; then
		multissh --command @~/.command.txt --nodes @~/.servers.txt --match_width
	elif [[ $1 == "d" ]]; then
		multissh /Users/lcrown/multissh/multissh.rb --command @~/.command.txt --nodes  @~/.servers.txt --debug
	elif [[ $1 == "l" ]]; then
		multissh --command @~/.command.txt --nodes  @$2
	elif [[ $# -eq 2 ]]; then
		multissh --command $2 --nodes $1
	else
		multissh --command @~/.command.txt --nodes  @~/.servers.txt
	fi
}

function vcgn() {
	python2 /Users/lcrown/repos/systems/vmware/get_network_adapters_for_host.py -s 'vcenter-2' -u 'lcrown' -v $1 -p $(grep lcrown ~/.credentials | cut -d':' -f2)
}

function mvcgn() {
	for host in $(cat /Users/lcrown/.servers.txt); do
		vcgn $host
	done
}

function check_host_alive() {
	python2 /Users/lcrown/repos/systems/vmware/check_host_alive.py -s 'vcenter-2' -u lcrown -l ~/.servers.txt
}
function validate_host_list() {
	pwsh /Users/lcrown/repos/systems/vmware/powershell/CheckHostExistence.ps1 -Filepath '~/.servers.txt' -Username lcrown
}
function validate_host() {
	pwsh /Users/lcrown/repos/systems/vmware/powershell/CheckHostExistence.ps1 -Computername $1 -Username lcrown
}

function run_vmware_puppet() {
	python2 /Users/lcrown/repos/systems/vmware/run_command_on_guest.py -s 'vcenter-2' -u lcrown -v $1 -c '/bin/puppet' -a 'agent --test' -x True
}

function run_vmware_rebuild_iptables() {
	python2 /Users/lcrown/repos/systems/vmware/run_command_on_guest.py -s 'vcenter-2' -u lcrown -v $1 -c '/usr/local/sbin/rebuild-iptables' -a '' -x True
}

